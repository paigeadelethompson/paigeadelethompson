local_slide( {"name":"1C06FB06-5DA5-49F6-9310-52F79EFFFDC9","json":{"assets":{"5E76B02A8077BA1A97484A06720AB63A":{"type":"texture","index":0,"assetRequest":{"type":"slide","state":"contents","slide":"none"},"url":{"native":"assets\/1C06FB06-5DA5-49F6-9310-52F79EFFFDC9.pdf"},"width":1920,"height":1080},"1A8718132E194DDEF10AB9FA7D8CE340":{"type":"texture","index":1,"assetRequest":{"type":"slide","state":"contents","slide":"none"},"url":{"native":"assets\/1C06FB06-5DA5-49F6-9310-52F79EFFFDC9.pdf"},"width":1920,"height":1080}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"1A8718132E194DDEF10AB9FA7D8CE340"},{"animations":[{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"both","duration":0.01,"autoreverses":false,"property":"hidden","to":{"scalar":true},"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"5E76B02A8077BA1A97484A06720AB63A"}]}]},"effects":[],"duration":0.01,"type":"transition","attributes":{"direction":0},"name":"none","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"https:\/\/cloud.ibm.com\/docs\/vpc?topic=vpc-imd-security-best-practices","targetRectangle":{"y":4.0000000596046448,"x":1137.3666095733643,"width":772.79999999999995,"height":28.3280029296875}},{"text":"Filtering IMDS Access","targetRectangle":{"y":4,"x":4,"width":858.07500079795705,"height":100.53440856933594}},{"text":"nft add set inet firewall imds_authorized \\\"{ type uid; flags interval; };\\\"","targetRectangle":{"y":113.62686920166016,"x":2.8124998807907104,"width":748.0240136718752,"height":21}},{"text":"nft add element inet firewall imds_authorized \\\"{ ssm-user }\\\"","targetRectangle":{"y":134.62686920166016,"x":2.8124998807907104,"width":606.50595703124975,"height":21}},{"text":"nft add chain inet firewall output '{ type filter hook output priority filter; policy accept;}'","targetRectangle":{"y":155.62686920166016,"x":2.8124998807907104,"width":1002.0533203124984,"height":22}},{"text":"nft add rule inet firewall output ip daddr 169.254.0.0\/16 skuid @imds_authorized log prefix \\\"imds-authorized\\\" group 2 counter accept","targetRectangle":{"y":220.62686920166016,"x":2.8124998807907104,"width":1334.3131054687485,"height":21}},{"text":"nft add rule inet firewall output ip daddr 169.254.0.0\/16 log prefix \\\"imds-unauthorized\\\" group 3 counter drop","targetRectangle":{"y":262.62686920166016,"x":2.8124998807907104,"width":1101.8191552734379,"height":21}},{"text":"tcpdump -vv -n -e -ttt -i nflog:3 -XX","targetRectangle":{"y":304.62686920166016,"x":2.8124998807907104,"width":374.01200683593726,"height":21}},{"text":"tcpdump: listening on nflog:3, link-type NFLOG (Linux netfilter log messages), snapshot length 262144 bytes","targetRectangle":{"y":325.62686920166016,"x":2.8124998807907104,"width":1081.6022900390631,"height":21}},{"text":" 00:00:00.000000 version 0, resource ID 3, family IPv4 (2), length 148: (tos 0x0, ttl 64, id 43631, offset 0, flags [DF], proto ICMP (1), length 84)","targetRectangle":{"y":346.62686920166016,"x":2.8124998807907104,"width":1496.0480273437472,"height":21}},{"text":"    192.168.64.5 > 169.254.169.254: ICMP echo request, id 41821, seq 1, length 64","targetRectangle":{"y":367.62686920166016,"x":2.8124998807907104,"width":818.78304199218792,"height":21}},{"text":"\\t0x0000:  0200 0003 0800 0100 0800 0300 1600 0a00  ................","targetRectangle":{"y":388.62686920166016,"x":2.8124998807907104,"width":703.15655273437505,"height":21}},{"text":"\\t0x0010:  696d 6473 2d75 6e61 7574 686f 7269 7a65  imds-unauthorize","targetRectangle":{"y":409.62686920166016,"x":2.8124998807907104,"width":703.15655273437505,"height":21}},{"text":"\\t0x0020:  6400 0000 0800 0500 0000 0002 0800 0b00  d...............","targetRectangle":{"y":430.62686920166016,"x":2.8124998807907104,"width":703.15655273437505,"height":21}},{"text":"\\t0x0030:  0000 0000 0800 0e00 0000 0000 5800 0900  ............X...","targetRectangle":{"y":451.62686920166016,"x":2.8124998807907104,"width":703.15655273437505,"height":21}},{"text":"\\t0x0040:  4500 0054 aa6f 4000 4001 3b8f c0a8 4005  E..T.o@.@.;...@.","targetRectangle":{"y":472.62686920166016,"x":2.8124998807907104,"width":703.15655273437505,"height":21}},{"text":"\\t0x0050:  a9fe a9fe 0800 20d1 a35d 0001 dabc 7e63  .........]....~c","targetRectangle":{"y":493.62686920166016,"x":2.8124998807907104,"width":703.15655273437505,"height":21}},{"text":"\\t0x0060:  0000 0000 15dd 0600 0000 0000 1011 1213  ................","targetRectangle":{"y":514.62686920166016,"x":2.8124998807907104,"width":703.15655273437505,"height":21}},{"text":"\\t0x0070:  1415 1617 1819 1a1b 1c1d 1e1f 2021 2223  .............!\\\"#","targetRectangle":{"y":535.62686920166016,"x":2.8124998807907104,"width":703.15655273437505,"height":21}},{"text":"\\t0x0080:  2425 2627 2829 2a2b 2c2d 2e2f 3031 3233  $%&'()*+,-.\/0123","targetRectangle":{"y":556.62686920166016,"x":2.8124998807907104,"width":703.15655273437505,"height":21}},{"text":"\\t0x0090:  3435 3637                                4567","targetRectangle":{"y":577.62686920166016,"x":2.8124998807907104,"width":581.85536132812467,"height":21}},{"text":"nft -a list ruleset | tee nft.conf","targetRectangle":{"y":640.62686920166016,"x":2.8124998807907104,"width":343.68670898437483,"height":21}},{"text":"table inet firewall { # handle 2","targetRectangle":{"y":661.62686920166016,"x":2.8124998807907104,"width":323.46984374999988,"height":21}},{"text":"\\tset imds_authorized { # handle 3","targetRectangle":{"y":682.62686920166016,"x":2.8124998807907104,"width":359.46984374999982,"height":21}},{"text":"\\t\\ttype uid","targetRectangle":{"y":703.62686920166016,"x":2.8124998807907104,"width":152.86746093750003,"height":21}},{"text":"\\t\\tflags interval","targetRectangle":{"y":724.62686920166016,"x":2.8124998807907104,"width":213.51805664062505,"height":21}},{"text":"\\t\\telements = { 1001 }","targetRectangle":{"y":745.62686920166016,"x":2.8124998807907104,"width":264.06021972656254,"height":21}},{"text":"\\t}","targetRectangle":{"y":766.62686920166016,"x":2.8124998807907104,"width":46.108432617187503,"height":21}},{"text":"\\tchain input { # handle 1","targetRectangle":{"y":808.62686920166016,"x":2.8124998807907104,"width":278.60238281250003,"height":21}},{"text":"\\t\\ttype filter hook input priority filter; policy drop;","targetRectangle":{"y":829.62686920166016,"x":2.8124998807907104,"width":597.63849609374972,"height":21}},{"text":"\\t\\tct state established accept # handle 5","targetRectangle":{"y":850.62686920166016,"x":2.8124998807907104,"width":456.12043945312456,"height":21}},{"text":"\\t\\tmeta nfproto { ipv4, ipv6 } tcp dport 22 accept # handle 6","targetRectangle":{"y":871.62686920166016,"x":2.8124998807907104,"width":658.28909179687491,"height":21}},{"text":"\\t}","targetRectangle":{"y":892.62686920166016,"x":2.8124998807907104,"width":46.108432617187503,"height":21}},{"text":"\\tchain output { # handle 2","targetRectangle":{"y":934.62686920166016,"x":2.8124998807907104,"width":288.7108154296875,"height":21}},{"text":"\\t\\ttype filter hook output priority filter; policy accept;","targetRectangle":{"y":955.62686920166016,"x":2.8124998807907104,"width":627.96379394531232,"height":21}},{"text":"\\t\\tip daddr 169.254.0.0\/16 meta skuid @imds_authorized log prefix \\\"imds-authorized\\\" group 2 counter packets 0 bytes 0 accept # handle 11","targetRectangle":{"y":976.62686920166016,"x":2.8124998807907104,"width":1416.4215380859355,"height":21}},{"text":"\\t\\tip daddr 169.254.0.0\/16 log prefix \\\"imds-unauthorized\\\" group 3 counter packets 375 bytes 31500 drop # handle 12","targetRectangle":{"y":997.62686920166016,"x":2.8124998807907104,"width":1194.0360205078123,"height":21}},{"text":"\\t}","targetRectangle":{"y":1018.6268692016602,"x":2.8124998807907104,"width":46.108432617187503,"height":21}},{"text":"}","targetRectangle":{"y":1039.6268692016602,"x":2.8124998807907104,"width":10.1084326171875,"height":21}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00035007912466775983,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":960,"pointY":540},"width":1920,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":1080,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"5E76B02A8077BA1A97484A06720AB63A"}]}]}}]}} )